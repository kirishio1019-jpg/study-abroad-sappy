# 物価レベル機能の改善ガイド

検索ページの「最大月額費用」フィルターを「物価レベル」選択に変更し、物価レベルの分類を細かくしました。

---

## ✅ 実装した改善

### 1. 物価レベルの分類を細かく（4段階 → 7段階）

**変更前（4段階）:**
- 低い（月15万円以下）
- 平均的（月15～25万円）
- 高い（月25～35万円）
- 非常に高い（月35万円以上）

**変更後（7段階）:**
- 非常に低い（月10万円以下）
- 低い（月10～15万円）
- やや低い（月15～20万円）
- 平均的（月20～25万円）
- やや高い（月25～30万円）
- 高い（月30～35万円）
- 非常に高い（月35万円以上）

---

### 2. 検索ページのフィルター変更

**変更前:**
- 「最大月額費用」として数値スライダー（¥0～¥500,000）

**変更後:**
- 「物価レベルで絞り込む」として複数選択チェックボックス
- 7段階の物価レベルから選択可能
- 複数の物価レベルを同時に選択可能

---

### 3. 統一された物価レベル定義

すべてのコンポーネントで同じ物価レベル定義を使用するように統一しました。

**作成ファイル:**
- `lib/cost-of-living.ts` - 物価レベルの定義とユーティリティ関数

---

## 📝 変更されたファイル

1. **`lib/cost-of-living.ts`** - 新規作成
   - 物価レベルの定義
   - ラベル取得関数
   - フィルタリング関数

2. **`components/pages/search-page.tsx`**
   - 費用フィルターを物価レベル選択に変更
   - フィルタリングロジックを更新

3. **`components/pages/review-form-page.tsx`**
   - 物価レベルオプションを新しい定義に更新

4. **`components/review-card.tsx`**
   - 物価レベル表示を新しい定義に対応

5. **`components/pages/detail-page.tsx`**
   - 物価レベル表示を新しい定義に対応

6. **`components/pages/comparison-page.tsx`**
   - 物価レベル表示を新しい定義に対応

---

## 🔄 後方互換性

古い物価レベルのラベルもサポートしているため、既存のレビューも正常に表示されます。

---

## 📋 物価レベルの詳細

| 物価レベル | 範囲 | 説明 |
|-----------|------|------|
| very-low | 月10万円以下 | 非常に低い |
| low | 月10～15万円 | 低い |
| average-low | 月15～20万円 | やや低い |
| average | 月20～25万円 | 平均的 |
| average-high | 月25～30万円 | やや高い |
| high | 月30～35万円 | 高い |
| very-high | 月35万円以上 | 非常に高い |

---

## 🎯 使用方法

### 検索ページでの物価レベルフィルター

1. 検索ページに移動
2. 「物価レベルで絞り込む」セクションを確認
3. 複数の物価レベルをチェックボックスで選択
4. 選択した物価レベルのレビューが表示されます

### レビュー投稿での物価レベル選択

1. レビュー投稿ページに移動
2. 「生活・文化情報」セクションの「費用」を開く
3. 「物価レベル」ドロップダウンから選択
4. 7段階の中から適切なレベルを選択

---

## ✅ 確認事項

改善後、以下を確認してください：

- [ ] 検索ページで物価レベルフィルターが表示される
- [ ] 複数の物価レベルを選択できる
- [ ] 選択した物価レベルでフィルタリングが正常に動作する
- [ ] レビュー投稿フォームで新しい物価レベルオプションが表示される
- [ ] 既存のレビューも正常に表示される

---

**物価レベル機能の改善が完了しました！より細かい分類で、検索とフィルタリングがしやすくなっています。**

