# 🔧 404エラー修正ガイド

## 問題
Vercelでデプロイ後、404エラーが発生している。

## 確認事項

### 1. VercelのRoot Directory設定

**重要**: Vercelのプロジェクト設定で、Root Directoryが正しく設定されているか確認してください。

1. **Vercelのプロジェクト設定ページを開く**
   - プロジェクトページで「Settings」をクリック
   - 「General」セクションを開く

2. **Root Directory設定を確認**
   - 「Root Directory」の設定を確認
   - **`study-abroad-comparison`** に設定されている必要があります
   - もし空になっている場合は、`study-abroad-comparison`と入力して「Save」

### 2. ビルド設定の確認

Vercelの「Settings」→「General」で以下を確認：

- **Framework Preset**: `Next.js`
- **Build Command**: `npm run build`（または空欄で自動検出）
- **Output Directory**: `.next`（または空欄で自動検出）
- **Install Command**: `npm install`（または空欄で自動検出）

### 3. デプロイログの確認

1. **Vercelのダッシュボードで「Deployments」タブを開く**
2. **最新のデプロイをクリック**
3. **「Build Logs」を確認**
   - エラーがないか確認
   - ビルドが成功しているか確認

### 4. ルーティングの確認

アプリは以下のルートを持っています：
- `/` - ホームページ
- `/comparison` - 比較ページ
- `/questions` - 質問ページ
- `/detail/[id]` - 詳細ページ（動的ルート）
- `/auth/callback` - 認証コールバック

これらのルートにアクセスして、どれが404になるか確認してください。

## 解決方法

### 方法1: Root Directoryを再設定

1. Vercelの設定でRoot Directoryを**削除**（空にする）
2. 「Save」をクリック
3. 再度Root Directoryを**`study-abroad-comparison`**に設定
4. 「Save」をクリック
5. 「Redeploy」をクリック

### 方法2: プロジェクトを再インポート

1. **Vercelのダッシュボードでプロジェクトを削除**
   - 「Settings」→「General」→ 一番下の「Delete Project」

2. **再度インポート**
   - 「Add New...」→「Project」
   - リポジトリ `kirishio1019-jpg/study-abroad-sappy` を選択
   - インポート時に以下を設定：
     - **Root Directory**: `study-abroad-comparison`
     - その他の設定はデフォルトのまま

3. **環境変数を再設定**（Supabaseを使用する場合）
   - 「Environment Variables」で以下を追加：
     ```
     NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
     NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
     ```

4. **「Deploy」をクリック**

### 方法3: GitHubリポジトリの構造を確認

GitHubリポジトリの構造を確認してください：

1. **GitHubリポジトリを開く**
   - https://github.com/kirishio1019-jpg/study-abroad-sappy

2. **`study-abroad-comparison`フォルダが存在するか確認**
   - リポジトリのルートに`study-abroad-comparison`フォルダがあるはずです
   - その中に`package.json`、`app`フォルダなどがあるはずです

3. **もし構造が違う場合は、リポジトリを再構築する必要があります**

## デバッグ情報

以下の情報を共有していただけると、より具体的な解決策を提案できます：

1. **どのURLで404が発生しているか**
   - 例: `https://your-app.vercel.app/` で404
   - 例: `https://your-app.vercel.app/comparison` で404

2. **Vercelのデプロイログの内容**
   - 「Build Logs」にエラーがないか

3. **Vercelの設定**
   - Root Directoryの値
   - Build Command、Output Directoryなどの設定

4. **GitHubリポジトリの構造**
   - `package.json`の場所
   - `app`フォルダの場所

## 次のステップ

上記の方法を試しても解決しない場合は、以下を実行してください：

1. Vercelのデプロイログの全文をコピー
2. エラーが発生しているURLを共有
3. Vercelの設定画面のスクリーンショット（可能であれば）

これらの情報があれば、より具体的な解決策を提案できます。

